import {CustomButton} from './examples/CustomButton';
import {CustomIcon} from './examples/CustomIcon';
import {StyledButton} from './examples/StyledButton';

<Meta title="Styling/ How to Customize Styles" />

# How To Customize Styles

There are multiple ways to customize styles for our components within Canvas Kit. The approach you
choose will depend on your use case. Ranging from some simple overrides to fully custom solutions,
here are the following options:

- [Styles](#styles)
- [Stencils](#stencils)

## Styles

### Using `createStyles` with `cs`

Use [`createStyles`](https://workday.github.io/canvas-kit/?path=/docs/styling-basics--create-styles)
in tandem with `cs` prop when you're overriding static styles and making small modifications to an
existing Canvas Kit component like padding, color and flex properties. Take our `Text` component as
an example.

```tsx
import {createStyles} from '@Workday/canvas-kit-styling';
import {system} from '@Workday/canvas-tokens-web';
import {Text} from '@Workday/canvas-kit-react/text';

const uppercaseTextStyles = createStyles({
  textTransform: 'uppercase',
  margin: system.space.x4
})
//...
<Text cs={uppercaseTextStyles}>My uppercased text</Text>;
```

> **Note:** `createStyles` handles wrapping our token variables in `var(--${tokenName})`

For components with component css variables, such as buttons and icons, you can use `cs` prop to
override them:

```tsx
import {createStyles} from '@Workday/canvas-kit-styling';
import {system} from '@Workday/canvas-tokens-web';
import {SystemIcon, systemIconStencil} from '@Workday/canvas-kit-react/icon';

const greenIconStyles = createStyles({
  [systemIconStencil.vars.color]: system.color.bg.positive.default,
  [systemIconStencil.vars.size]: system.space.x4,
  '&:hover': {
    [systemIconStencil.vars.color]: system.color.bg.positive.softer,
  },
  '&:active': {
    [systemIconStencil.vars.color]: system.color.bg.positive.stronger,
  },
  '&:disabled': {
    [systemIconStencil.vars.color]: system.color.bg.positive.strong,
  }
})
//...
<SystemIcon icon={greenIconStyles} cs={uppercaseTextStyles} />;
```

## Stencils

### Extending Stencils

[Stencils](https://workday.github.io/canvas-kit/?path=/docs/styling-basics--create-stencil) help you
organize the styling of reusable components into base styles, modifiers, and variables. The
organization makes it more natural to produce static and clean CSS with optional extraction into CSS
files.

Some of our components have stencils that can be extended and styles, variables and modifiers for
this component can be reused. It allows you to create your own reusable component using Canvas Kit
styles.

For example, since v11 System Icon component has reusable `systemIconStencil`, so you can create
your custom icon using System Icon styles and add other styles to it.

Before v11 one way of reusing System Icon styles was using Emotion or `systemIconStyles` function:

```tsx
// before v11
import {systemIconStyles} from '@workday/canvas-kit-react';

// old way of styling with Emotion styled
const StyledNavIcon = styled('span')(({size, iconStyles}){
  display: 'inline-flex',
  pointerEvents: 'unset',
  margin: `${space.xxxs} ${space.xxxs} 0 0`,
  padding: '0',
  'svg': {
    ...iconStyles,
    width: size,
    height: size,
  }
});

const NavIcon = ({iconColor, iconHover, iconBackground, iconBackgroundHover, icon, size}) => {
  // old way of styling with systemIconStyles function
  // systemIconStyles is deprecated in v11
  const iconStyles = systemIconStyles({
    fill: iconColor,
    fillHover: iconHover,
    background: iconBackground,
    backgroundHover: iconBackgroundHover,
  });

  // insert icon function used by platform or any other functionality here

  return (
    <StyledNavIcon
      icon={icon}
      size={size}
      iconStyles={iconStyles}
    />
  );
};
```

Now it's possible to extend `systemIconStencil` to reuse its styles:

```tsx
// after v11
import {createStencil} from '@workday/canvas-kit-styling';

const navIconStencil = createStencil({
  extends: systemIconStencil,
  vars: {
    // we will have this variables to support our iconHover and iconBackgroundHover
    // they can be removed later and overwritten by `cs`
    fillHover: '',
    backgroundHover: '',
  },
  base: ({fillHover, backgroundHover}) => ({
    display: 'inline-flex',
    pointerEvents: 'unset',
    // instead of old tokens it's better to use new system tokens
    margin: `${system.space.x1} ${system.space.x1} 0 0`,
    padding: '0',
    '&:hover, &.hover': {
      // systemIconStencil doesn't have hover specific variables
      // so we reassigned color and backgroundColor using pseudo-selector
      [systemIconStencil.vars.color]: fillHover,
      [systemIconStencil.vars.backgroundColor]: backgroundHover,
    },
  }),
});

const NavIcon = ({
  iconColor,
  iconHover,
  iconBackground,
  iconBackgroundHover,
  icon,
  size,
  ...elemProps
}) => {
  // insert icon function used by platform or any other functionality here

  return (
    <span
      icon={icon}
      {...handleCsProp(
        elemProps,
        navIconStencil({
          // systemIconStencil already has size prop and apply size to svg width and height
          // so we don't need to set this variable in our navIconStencil
          size,
          // systemIconStencil already has color (for icon fill) and backgroundColor variables
          // so we assigned them to our prop values
          color: iconColor,
          backgroundColor: iconBackground,
          fillHover: iconHover,
          backgroundHover: iconBackgroundHover,
        })
      )}
    />
  );
};
```
